{"ast":null,"code":"'use strict';\n\nexports.__esModule = true;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _core = require('@emotion/core');\n\nvar _react = require('react');\n\nvar _downshift = require('downshift');\n\nvar _downshift2 = _interopRequireDefault(_downshift);\n\nvar _emotionTheming = require('emotion-theming');\n\nvar _types = require('@appbaseio/reactivecore/lib/utils/types');\n\nvar _types2 = _interopRequireDefault(_types);\n\nvar _helper = require('@appbaseio/reactivecore/lib/utils/helper');\n\nvar _suggestions = require('@appbaseio/reactivecore/lib/utils/suggestions');\n\nvar _Input = require('../../styles/Input');\n\nvar _Input2 = _interopRequireDefault(_Input);\n\nvar _Select = require('../../styles/Select');\n\nvar _Select2 = _interopRequireDefault(_Select);\n\nvar _Chevron = require('../../styles/Chevron');\n\nvar _Chevron2 = _interopRequireDefault(_Chevron);\n\nvar _InputWrapper = require('../../styles/InputWrapper');\n\nvar _InputWrapper2 = _interopRequireDefault(_InputWrapper);\n\nvar _IconGroup = require('../../styles/IconGroup');\n\nvar _IconGroup2 = _interopRequireDefault(_IconGroup);\n\nvar _IconWrapper = require('../../styles/IconWrapper');\n\nvar _IconWrapper2 = _interopRequireDefault(_IconWrapper);\n\nvar _CancelSvg = require('./CancelSvg');\n\nvar _CancelSvg2 = _interopRequireDefault(_CancelSvg);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n/** @jsx jsx */\n\n\nvar Dropdown = function (_Component) {\n  _inherits(Dropdown, _Component);\n\n  function Dropdown(props) {\n    _classCallCheck(this, Dropdown);\n\n    var _this = _possibleConstructorReturn(this, _Component.call(this, props));\n\n    _initialiseProps.call(_this);\n\n    _this.state = {\n      isOpen: props.isOpen,\n      searchTerm: ''\n    };\n    return _this;\n  }\n\n  Dropdown.prototype.render = function render() {\n    var _this2 = this;\n\n    var _props = this.props,\n        items = _props.items,\n        selectedItem = _props.selectedItem,\n        placeholder = _props.placeholder,\n        labelField = _props.labelField,\n        keyField = _props.keyField,\n        themePreset = _props.themePreset,\n        theme = _props.theme,\n        renderItem = _props.renderItem,\n        transformData = _props.transformData,\n        footer = _props.footer,\n        hasCustomRenderer = _props.hasCustomRenderer,\n        customRenderer = _props.customRenderer;\n    var itemsToRender = items;\n\n    if (transformData) {\n      itemsToRender = transformData(itemsToRender);\n    }\n\n    var dropdownItems = itemsToRender.filter(function (item) {\n      if (String(item[labelField]).length) {\n        if (_this2.props.showSearch && _this2.state.searchTerm) {\n          return (0, _suggestions.replaceDiacritics)(String(item[labelField])).toLowerCase().includes((0, _suggestions.replaceDiacritics)(_this2.state.searchTerm).toLowerCase());\n        }\n\n        return true;\n      }\n\n      return false;\n    });\n    return (0, _core.jsx)(_downshift2.default, {\n      selectedItem: selectedItem,\n      onChange: this.onChange,\n      onOuterClick: this.close,\n      onStateChange: this.handleStateChange,\n      isOpen: this.state.isOpen,\n      itemToString: function itemToString(i) {\n        return i && i[_this2.props.labelField];\n      },\n      render: function render(_ref) {\n        var getRootProps = _ref.getRootProps,\n            getButtonProps = _ref.getButtonProps,\n            getItemProps = _ref.getItemProps,\n            isOpen = _ref.isOpen,\n            highlightedIndex = _ref.highlightedIndex,\n            rest = _objectWithoutProperties(_ref, ['getRootProps', 'getButtonProps', 'getItemProps', 'isOpen', 'highlightedIndex']);\n\n        return (0, _core.jsx)('div', getRootProps({\n          css: _Input.suggestionsContainer\n        }, {\n          suppressRefError: true\n        }), (0, _core.jsx)(_Select2.default, _extends({}, getButtonProps(), {\n          className: (0, _helper.getClassName)(_this2.props.innerClass, 'select') || null,\n          onClick: _this2.toggle,\n          title: selectedItem ? _this2.renderToString(selectedItem) : placeholder,\n          small: _this2.props.small,\n          themePreset: _this2.props.themePreset\n        }), _this2.props.customLabelRenderer ? _this2.props.customLabelRenderer(selectedItem) : (0, _core.jsx)('div', null, selectedItem ? _this2.renderToString(selectedItem) : placeholder), (0, _core.jsx)(_Chevron2.default, {\n          open: isOpen\n        })), // eslint-disable-next-line\n        hasCustomRenderer ? customRenderer(itemsToRender, _extends({\n          getButtonProps: getButtonProps,\n          getItemProps: getItemProps,\n          isOpen: isOpen,\n          highlightedIndex: highlightedIndex\n        }, rest)) : isOpen && itemsToRender.length ? (0, _core.jsx)('ul', {\n          css: (0, _Input.suggestions)(themePreset, theme),\n          className: (_this2.props.small ? 'small' : '') + ' ' + (0, _helper.getClassName)(_this2.props.innerClass, 'list')\n        }, _this2.props.showSearch ? _this2.renderSearchbox(_this2.props) : null, dropdownItems.length ? dropdownItems.map(function (item, index) {\n          var selected = _this2.props.multi // MultiDropdownList\n          && (selectedItem && !!selectedItem[item[keyField]] || // MultiDropdownRange\n          Array.isArray(selectedItem) && selectedItem.find(function (value) {\n            return value[labelField] === item[labelField];\n          }));\n          if (!_this2.props.multi) selected = item.key === selectedItem;\n          return (0, _core.jsx)('li', _extends({}, getItemProps({\n            item: item\n          }), {\n            key: item[keyField],\n            className: '' + (selected ? 'active' : ''),\n            style: {\n              backgroundColor: _this2.getBackgroundColor(highlightedIndex === index, selected)\n            }\n          }), renderItem ? renderItem(item[labelField], item.doc_count, selected && _this2.props.multi) : (0, _core.jsx)('div', null, typeof item[labelField] === 'string' ? (0, _core.jsx)('span', {\n            dangerouslySetInnerHTML: {\n              __html: item[labelField]\n            }\n          }) : item[labelField], _this2.props.showCount && item.doc_count && (0, _core.jsx)('span', {\n            className: (0, _helper.getClassName)(_this2.props.innerClass, 'count') || null\n          }, '\\xA0(', item.doc_count, ')')), selected && _this2.props.multi ? (0, _core.jsx)(_Select.Tick, {\n            className: (0, _helper.getClassName)(_this2.props.innerClass, 'icon') || null\n          }) : null);\n        }) : _this2.props.renderNoResults && _this2.props.renderNoResults(), footer) : null);\n      }\n    });\n  };\n\n  return Dropdown;\n}(_react.Component);\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this3 = this;\n\n  this.toggle = function () {\n    _this3.setState({\n      isOpen: !_this3.state.isOpen\n    });\n  };\n\n  this.close = function () {\n    _this3.setState({\n      isOpen: false\n    });\n  };\n\n  this.onChange = function (item) {\n    if (_this3.props.returnsObject) {\n      _this3.props.onChange(item);\n    } else {\n      _this3.props.onChange(item[_this3.props.keyField]);\n    }\n\n    if (!_this3.props.multi) {\n      _this3.setState({\n        isOpen: false,\n        searchTerm: ''\n      });\n    }\n  };\n\n  this.handleStateChange = function (changes) {\n    var isOpen = changes.isOpen,\n        type = changes.type;\n\n    if (type === _downshift2.default.stateChangeTypes.mouseUp) {\n      _this3.setState({\n        isOpen: isOpen\n      });\n    }\n\n    if (type === _downshift2.default.stateChangeTypes.keyDownEscape) {\n      _this3.setState({\n        isOpen: false\n      });\n    }\n  };\n\n  this.getBackgroundColor = function (highlighted, selected) {\n    var isDark = _this3.props.themePreset === 'dark';\n\n    if (highlighted) {\n      return isDark ? '#555' : '#eee';\n    }\n\n    if (selected) {\n      return isDark ? '#686868' : '#fafafa';\n    }\n\n    return isDark ? '#424242' : '#fff';\n  };\n\n  this.handleInputChange = function (e) {\n    var value = e.target.value;\n\n    _this3.setState({\n      searchTerm: value\n    });\n  };\n\n  this.renderToString = function (value) {\n    if (_this3.props.customLabelRenderer) {\n      var customLabel = _this3.props.customLabelRenderer(value);\n\n      if (typeof customLabel === 'string') {\n        return customLabel;\n      }\n    }\n\n    if (Array.isArray(value) && value.length) {\n      var arrayToRender = value.map(function (item) {\n        return _this3.renderToString(item);\n      });\n      return arrayToRender.join(', ');\n    }\n\n    if (value && (typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object') {\n      if (value[_this3.props.labelField]) {\n        return value[_this3.props.labelField];\n      }\n\n      if (Object.keys(value).length) {\n        return _this3.renderToString(Object.keys(value));\n      }\n\n      return _this3.props.placeholder;\n    }\n\n    return value;\n  };\n\n  this.clearSearchTerm = function () {\n    _this3.setState({\n      searchTerm: ''\n    });\n  };\n\n  this.renderSearchbox = function (props) {\n    var componentId = props.componentId,\n        searchPlaceholder = props.searchPlaceholder,\n        showClear = props.showClear,\n        themePreset = props.themePreset,\n        innerClass = props.innerClass;\n    var InputComponent = (0, _core.jsx)(_Input2.default, {\n      id: componentId + '-input',\n      style: {\n        border: 0,\n        borderBottom: '1px solid #ddd'\n      },\n      showIcon: false,\n      showClear: showClear,\n      className: (0, _helper.getClassName)(innerClass, 'input'),\n      placeholder: searchPlaceholder,\n      value: _this3.state.searchTerm,\n      onChange: _this3.handleInputChange,\n      themePreset: themePreset\n    });\n\n    if (showClear) {\n      return (0, _core.jsx)(_InputWrapper2.default, null, InputComponent, _this3.state.searchTerm && (0, _core.jsx)(_IconGroup2.default, {\n        groupPosition: 'right',\n        positionType: 'absolute'\n      }, (0, _core.jsx)(_IconWrapper2.default, {\n        onClick: _this3.clearSearchTerm,\n        isClearIcon: true\n      }, (0, _core.jsx)(_CancelSvg2.default, null))));\n    }\n\n    return InputComponent;\n  };\n};\n\nDropdown.defaultProps = {\n  keyField: 'key',\n  labelField: 'label',\n  small: false,\n  searchPlaceholder: 'Type here to search...',\n  isOpen: false\n};\nDropdown.propTypes = {\n  innerClass: _types2.default.style,\n  items: _types2.default.data,\n  keyField: _types2.default.string,\n  labelField: _types2.default.string,\n  multi: _types2.default.bool,\n  hasCustomRenderer: _types2.default.bool,\n  onChange: _types2.default.func,\n  placeholder: _types2.default.string,\n  searchPlaceholder: _types2.default.string,\n  returnsObject: _types2.default.bool,\n  renderItem: _types2.default.func,\n  transformData: _types2.default.func,\n  renderNoResults: _types2.default.func,\n  customRenderer: _types2.default.func,\n  customLabelRenderer: _types2.default.func,\n  selectedItem: _types2.default.selectedValue,\n  showCount: _types2.default.bool,\n  single: _types2.default.bool,\n  small: _types2.default.bool,\n  theme: _types2.default.style,\n  themePreset: _types2.default.themePreset,\n  showSearch: _types2.default.bool,\n  footer: _types2.default.children,\n  componentId: _types2.default.string,\n  showClear: _types2.default.bool,\n  isOpen: _types2.default.bool\n};\nexports.default = (0, _emotionTheming.withTheme)(Dropdown);","map":{"version":3,"sources":["/Users/karina/Main/Study/Web Dev/test-api/node_modules/@appbaseio/reactivesearch/lib/components/shared/Dropdown.js"],"names":["exports","__esModule","_typeof","Symbol","iterator","obj","constructor","prototype","_extends","Object","assign","target","i","arguments","length","source","key","hasOwnProperty","call","_core","require","_react","_downshift","_downshift2","_interopRequireDefault","_emotionTheming","_types","_types2","_helper","_suggestions","_Input","_Input2","_Select","_Select2","_Chevron","_Chevron2","_InputWrapper","_InputWrapper2","_IconGroup","_IconGroup2","_IconWrapper","_IconWrapper2","_CancelSvg","_CancelSvg2","default","_objectWithoutProperties","keys","indexOf","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","value","enumerable","writable","configurable","setPrototypeOf","__proto__","Dropdown","_Component","props","_this","_initialiseProps","state","isOpen","searchTerm","render","_this2","_props","items","selectedItem","placeholder","labelField","keyField","themePreset","theme","renderItem","transformData","footer","hasCustomRenderer","customRenderer","itemsToRender","dropdownItems","filter","item","String","showSearch","replaceDiacritics","toLowerCase","includes","jsx","onChange","onOuterClick","close","onStateChange","handleStateChange","itemToString","_ref","getRootProps","getButtonProps","getItemProps","highlightedIndex","rest","css","suggestionsContainer","suppressRefError","className","getClassName","innerClass","onClick","toggle","title","renderToString","small","customLabelRenderer","open","suggestions","renderSearchbox","map","index","selected","multi","Array","isArray","find","style","backgroundColor","getBackgroundColor","doc_count","dangerouslySetInnerHTML","__html","showCount","Tick","renderNoResults","Component","_this3","setState","returnsObject","changes","type","stateChangeTypes","mouseUp","keyDownEscape","highlighted","isDark","handleInputChange","e","customLabel","arrayToRender","join","clearSearchTerm","componentId","searchPlaceholder","showClear","InputComponent","id","border","borderBottom","showIcon","groupPosition","positionType","isClearIcon","defaultProps","propTypes","data","string","bool","func","selectedValue","single","children","withTheme"],"mappings":"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","sourcesContent":["'use strict';\n\nexports.__esModule = true;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _core = require('@emotion/core');\n\nvar _react = require('react');\n\nvar _downshift = require('downshift');\n\nvar _downshift2 = _interopRequireDefault(_downshift);\n\nvar _emotionTheming = require('emotion-theming');\n\nvar _types = require('@appbaseio/reactivecore/lib/utils/types');\n\nvar _types2 = _interopRequireDefault(_types);\n\nvar _helper = require('@appbaseio/reactivecore/lib/utils/helper');\n\nvar _suggestions = require('@appbaseio/reactivecore/lib/utils/suggestions');\n\nvar _Input = require('../../styles/Input');\n\nvar _Input2 = _interopRequireDefault(_Input);\n\nvar _Select = require('../../styles/Select');\n\nvar _Select2 = _interopRequireDefault(_Select);\n\nvar _Chevron = require('../../styles/Chevron');\n\nvar _Chevron2 = _interopRequireDefault(_Chevron);\n\nvar _InputWrapper = require('../../styles/InputWrapper');\n\nvar _InputWrapper2 = _interopRequireDefault(_InputWrapper);\n\nvar _IconGroup = require('../../styles/IconGroup');\n\nvar _IconGroup2 = _interopRequireDefault(_IconGroup);\n\nvar _IconWrapper = require('../../styles/IconWrapper');\n\nvar _IconWrapper2 = _interopRequireDefault(_IconWrapper);\n\nvar _CancelSvg = require('./CancelSvg');\n\nvar _CancelSvg2 = _interopRequireDefault(_CancelSvg);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /** @jsx jsx */\n\n\nvar Dropdown = function (_Component) {\n\t_inherits(Dropdown, _Component);\n\n\tfunction Dropdown(props) {\n\t\t_classCallCheck(this, Dropdown);\n\n\t\tvar _this = _possibleConstructorReturn(this, _Component.call(this, props));\n\n\t\t_initialiseProps.call(_this);\n\n\t\t_this.state = {\n\t\t\tisOpen: props.isOpen,\n\t\t\tsearchTerm: ''\n\t\t};\n\t\treturn _this;\n\t}\n\n\tDropdown.prototype.render = function render() {\n\t\tvar _this2 = this;\n\n\t\tvar _props = this.props,\n\t\t    items = _props.items,\n\t\t    selectedItem = _props.selectedItem,\n\t\t    placeholder = _props.placeholder,\n\t\t    labelField = _props.labelField,\n\t\t    keyField = _props.keyField,\n\t\t    themePreset = _props.themePreset,\n\t\t    theme = _props.theme,\n\t\t    renderItem = _props.renderItem,\n\t\t    transformData = _props.transformData,\n\t\t    footer = _props.footer,\n\t\t    hasCustomRenderer = _props.hasCustomRenderer,\n\t\t    customRenderer = _props.customRenderer;\n\n\n\t\tvar itemsToRender = items;\n\n\t\tif (transformData) {\n\t\t\titemsToRender = transformData(itemsToRender);\n\t\t}\n\n\t\tvar dropdownItems = itemsToRender.filter(function (item) {\n\t\t\tif (String(item[labelField]).length) {\n\t\t\t\tif (_this2.props.showSearch && _this2.state.searchTerm) {\n\t\t\t\t\treturn (0, _suggestions.replaceDiacritics)(String(item[labelField])).toLowerCase().includes((0, _suggestions.replaceDiacritics)(_this2.state.searchTerm).toLowerCase());\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t});\n\n\t\treturn (0, _core.jsx)(_downshift2.default, {\n\t\t\tselectedItem: selectedItem,\n\t\t\tonChange: this.onChange,\n\t\t\tonOuterClick: this.close,\n\t\t\tonStateChange: this.handleStateChange,\n\t\t\tisOpen: this.state.isOpen,\n\t\t\titemToString: function itemToString(i) {\n\t\t\t\treturn i && i[_this2.props.labelField];\n\t\t\t},\n\t\t\trender: function render(_ref) {\n\t\t\t\tvar getRootProps = _ref.getRootProps,\n\t\t\t\t    getButtonProps = _ref.getButtonProps,\n\t\t\t\t    getItemProps = _ref.getItemProps,\n\t\t\t\t    isOpen = _ref.isOpen,\n\t\t\t\t    highlightedIndex = _ref.highlightedIndex,\n\t\t\t\t    rest = _objectWithoutProperties(_ref, ['getRootProps', 'getButtonProps', 'getItemProps', 'isOpen', 'highlightedIndex']);\n\n\t\t\t\treturn (0, _core.jsx)(\n\t\t\t\t\t'div',\n\t\t\t\t\tgetRootProps({ css: _Input.suggestionsContainer }, { suppressRefError: true }),\n\t\t\t\t\t(0, _core.jsx)(\n\t\t\t\t\t\t_Select2.default,\n\t\t\t\t\t\t_extends({}, getButtonProps(), {\n\t\t\t\t\t\t\tclassName: (0, _helper.getClassName)(_this2.props.innerClass, 'select') || null,\n\t\t\t\t\t\t\tonClick: _this2.toggle,\n\t\t\t\t\t\t\ttitle: selectedItem ? _this2.renderToString(selectedItem) : placeholder,\n\t\t\t\t\t\t\tsmall: _this2.props.small,\n\t\t\t\t\t\t\tthemePreset: _this2.props.themePreset\n\t\t\t\t\t\t}),\n\t\t\t\t\t\t_this2.props.customLabelRenderer ? _this2.props.customLabelRenderer(selectedItem) : (0, _core.jsx)(\n\t\t\t\t\t\t\t'div',\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\tselectedItem ? _this2.renderToString(selectedItem) : placeholder\n\t\t\t\t\t\t),\n\t\t\t\t\t\t(0, _core.jsx)(_Chevron2.default, { open: isOpen })\n\t\t\t\t\t),\n\n\t\t\t\t\t// eslint-disable-next-line\n\t\t\t\t\thasCustomRenderer ? customRenderer(itemsToRender, _extends({\n\t\t\t\t\t\tgetButtonProps: getButtonProps, getItemProps: getItemProps, isOpen: isOpen, highlightedIndex: highlightedIndex }, rest)) : isOpen && itemsToRender.length ? (0, _core.jsx)(\n\t\t\t\t\t\t'ul',\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tcss: (0, _Input.suggestions)(themePreset, theme),\n\t\t\t\t\t\t\tclassName: (_this2.props.small ? 'small' : '') + ' ' + (0, _helper.getClassName)(_this2.props.innerClass, 'list')\n\t\t\t\t\t\t},\n\t\t\t\t\t\t_this2.props.showSearch ? _this2.renderSearchbox(_this2.props) : null,\n\t\t\t\t\t\tdropdownItems.length ? dropdownItems.map(function (item, index) {\n\t\t\t\t\t\t\tvar selected = _this2.props.multi\n\t\t\t\t\t\t\t// MultiDropdownList\n\t\t\t\t\t\t\t&& (selectedItem && !!selectedItem[item[keyField]] ||\n\t\t\t\t\t\t\t// MultiDropdownRange\n\t\t\t\t\t\t\tArray.isArray(selectedItem) && selectedItem.find(function (value) {\n\t\t\t\t\t\t\t\treturn value[labelField] === item[labelField];\n\t\t\t\t\t\t\t}));\n\t\t\t\t\t\t\tif (!_this2.props.multi) selected = item.key === selectedItem;\n\n\t\t\t\t\t\t\treturn (0, _core.jsx)(\n\t\t\t\t\t\t\t\t'li',\n\t\t\t\t\t\t\t\t_extends({}, getItemProps({ item: item }), {\n\t\t\t\t\t\t\t\t\tkey: item[keyField],\n\t\t\t\t\t\t\t\t\tclassName: '' + (selected ? 'active' : ''),\n\t\t\t\t\t\t\t\t\tstyle: {\n\t\t\t\t\t\t\t\t\t\tbackgroundColor: _this2.getBackgroundColor(highlightedIndex === index, selected)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\trenderItem ? renderItem(item[labelField], item.doc_count, selected && _this2.props.multi) : (0, _core.jsx)(\n\t\t\t\t\t\t\t\t\t'div',\n\t\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t\ttypeof item[labelField] === 'string' ? (0, _core.jsx)('span', {\n\t\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML: {\n\t\t\t\t\t\t\t\t\t\t\t__html: item[labelField]\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}) : item[labelField],\n\t\t\t\t\t\t\t\t\t_this2.props.showCount && item.doc_count && (0, _core.jsx)(\n\t\t\t\t\t\t\t\t\t\t'span',\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tclassName: (0, _helper.getClassName)(_this2.props.innerClass, 'count') || null\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t'\\xA0(',\n\t\t\t\t\t\t\t\t\t\titem.doc_count,\n\t\t\t\t\t\t\t\t\t\t')'\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\tselected && _this2.props.multi ? (0, _core.jsx)(_Select.Tick, {\n\t\t\t\t\t\t\t\t\tclassName: (0, _helper.getClassName)(_this2.props.innerClass, 'icon') || null\n\t\t\t\t\t\t\t\t}) : null\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}) : _this2.props.renderNoResults && _this2.props.renderNoResults(),\n\t\t\t\t\t\tfooter\n\t\t\t\t\t) : null\n\t\t\t\t);\n\t\t\t}\n\t\t});\n\t};\n\n\treturn Dropdown;\n}(_react.Component);\n\nvar _initialiseProps = function _initialiseProps() {\n\tvar _this3 = this;\n\n\tthis.toggle = function () {\n\t\t_this3.setState({\n\t\t\tisOpen: !_this3.state.isOpen\n\t\t});\n\t};\n\n\tthis.close = function () {\n\t\t_this3.setState({\n\t\t\tisOpen: false\n\t\t});\n\t};\n\n\tthis.onChange = function (item) {\n\t\tif (_this3.props.returnsObject) {\n\t\t\t_this3.props.onChange(item);\n\t\t} else {\n\t\t\t_this3.props.onChange(item[_this3.props.keyField]);\n\t\t}\n\n\t\tif (!_this3.props.multi) {\n\t\t\t_this3.setState({\n\t\t\t\tisOpen: false,\n\t\t\t\tsearchTerm: ''\n\t\t\t});\n\t\t}\n\t};\n\n\tthis.handleStateChange = function (changes) {\n\t\tvar isOpen = changes.isOpen,\n\t\t    type = changes.type;\n\n\t\tif (type === _downshift2.default.stateChangeTypes.mouseUp) {\n\t\t\t_this3.setState({\n\t\t\t\tisOpen: isOpen\n\t\t\t});\n\t\t}\n\t\tif (type === _downshift2.default.stateChangeTypes.keyDownEscape) {\n\t\t\t_this3.setState({\n\t\t\t\tisOpen: false\n\t\t\t});\n\t\t}\n\t};\n\n\tthis.getBackgroundColor = function (highlighted, selected) {\n\t\tvar isDark = _this3.props.themePreset === 'dark';\n\t\tif (highlighted) {\n\t\t\treturn isDark ? '#555' : '#eee';\n\t\t}\n\t\tif (selected) {\n\t\t\treturn isDark ? '#686868' : '#fafafa';\n\t\t}\n\t\treturn isDark ? '#424242' : '#fff';\n\t};\n\n\tthis.handleInputChange = function (e) {\n\t\tvar value = e.target.value;\n\n\t\t_this3.setState({\n\t\t\tsearchTerm: value\n\t\t});\n\t};\n\n\tthis.renderToString = function (value) {\n\t\tif (_this3.props.customLabelRenderer) {\n\t\t\tvar customLabel = _this3.props.customLabelRenderer(value);\n\t\t\tif (typeof customLabel === 'string') {\n\t\t\t\treturn customLabel;\n\t\t\t}\n\t\t}\n\t\tif (Array.isArray(value) && value.length) {\n\t\t\tvar arrayToRender = value.map(function (item) {\n\t\t\t\treturn _this3.renderToString(item);\n\t\t\t});\n\t\t\treturn arrayToRender.join(', ');\n\t\t}\n\t\tif (value && (typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object') {\n\t\t\tif (value[_this3.props.labelField]) {\n\t\t\t\treturn value[_this3.props.labelField];\n\t\t\t}\n\t\t\tif (Object.keys(value).length) {\n\t\t\t\treturn _this3.renderToString(Object.keys(value));\n\t\t\t}\n\t\t\treturn _this3.props.placeholder;\n\t\t}\n\t\treturn value;\n\t};\n\n\tthis.clearSearchTerm = function () {\n\t\t_this3.setState({ searchTerm: '' });\n\t};\n\n\tthis.renderSearchbox = function (props) {\n\t\tvar componentId = props.componentId,\n\t\t    searchPlaceholder = props.searchPlaceholder,\n\t\t    showClear = props.showClear,\n\t\t    themePreset = props.themePreset,\n\t\t    innerClass = props.innerClass;\n\n\n\t\tvar InputComponent = (0, _core.jsx)(_Input2.default, {\n\t\t\tid: componentId + '-input',\n\t\t\tstyle: {\n\t\t\t\tborder: 0,\n\t\t\t\tborderBottom: '1px solid #ddd'\n\t\t\t},\n\t\t\tshowIcon: false,\n\t\t\tshowClear: showClear,\n\t\t\tclassName: (0, _helper.getClassName)(innerClass, 'input'),\n\t\t\tplaceholder: searchPlaceholder,\n\t\t\tvalue: _this3.state.searchTerm,\n\t\t\tonChange: _this3.handleInputChange,\n\t\t\tthemePreset: themePreset\n\t\t});\n\n\t\tif (showClear) {\n\t\t\treturn (0, _core.jsx)(\n\t\t\t\t_InputWrapper2.default,\n\t\t\t\tnull,\n\t\t\t\tInputComponent,\n\t\t\t\t_this3.state.searchTerm && (0, _core.jsx)(\n\t\t\t\t\t_IconGroup2.default,\n\t\t\t\t\t{ groupPosition: 'right', positionType: 'absolute' },\n\t\t\t\t\t(0, _core.jsx)(\n\t\t\t\t\t\t_IconWrapper2.default,\n\t\t\t\t\t\t{ onClick: _this3.clearSearchTerm, isClearIcon: true },\n\t\t\t\t\t\t(0, _core.jsx)(_CancelSvg2.default, null)\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\n\t\treturn InputComponent;\n\t};\n};\n\nDropdown.defaultProps = {\n\tkeyField: 'key',\n\tlabelField: 'label',\n\tsmall: false,\n\tsearchPlaceholder: 'Type here to search...',\n\tisOpen: false\n};\n\nDropdown.propTypes = {\n\tinnerClass: _types2.default.style,\n\titems: _types2.default.data,\n\tkeyField: _types2.default.string,\n\tlabelField: _types2.default.string,\n\tmulti: _types2.default.bool,\n\thasCustomRenderer: _types2.default.bool,\n\tonChange: _types2.default.func,\n\tplaceholder: _types2.default.string,\n\tsearchPlaceholder: _types2.default.string,\n\treturnsObject: _types2.default.bool,\n\trenderItem: _types2.default.func,\n\ttransformData: _types2.default.func,\n\trenderNoResults: _types2.default.func,\n\tcustomRenderer: _types2.default.func,\n\tcustomLabelRenderer: _types2.default.func,\n\tselectedItem: _types2.default.selectedValue,\n\tshowCount: _types2.default.bool,\n\tsingle: _types2.default.bool,\n\tsmall: _types2.default.bool,\n\ttheme: _types2.default.style,\n\tthemePreset: _types2.default.themePreset,\n\tshowSearch: _types2.default.bool,\n\tfooter: _types2.default.children,\n\tcomponentId: _types2.default.string,\n\tshowClear: _types2.default.bool,\n\tisOpen: _types2.default.bool\n};\n\nexports.default = (0, _emotionTheming.withTheme)(Dropdown);"]},"metadata":{},"sourceType":"script"}